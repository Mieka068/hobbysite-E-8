{% extends 'base.html' %}
{% load static %}

{% block title %}Article Categories{% endblock %}

{% block content %}
        <h1>Blog</h1>

        <div style="text-align: right; margin-bottom: 20px;">
            <a href="{% url 'blog:article_create' %}" class="back-button">Create New Article</a>
        </div>

        <h2>Your Articles</h2>
        <div class="commissions-list">
            {% for article in my_articles %}
                <div class="commission-box">
                    <a href="{{ article.get_absolute_url }}">{{ article.title }} by You</a>
                </div>
            {% empty %}
                <p>You haven't published any articles yet.</p>
            {% endfor %}
        </div>

        <h2>Other Articles</h2>

        {% for category, articles in category_groups.items %}
            <h3 style="color: #2c3e50; margin-top: 20px;">{{ category.name }}</h3>
            <div class="commissions-list">
                {% for article in articles %}
                    <div class="commission-box">
                        <a href="{{ article.get_absolute_url }}">{{ article.title }} by {{ article.author }}</a>
                    </div>
                {% empty %}
                    <p>No articles in this category.</p>
                {% endfor %}
            </div>
        {% empty %}
            <p>No categories found.</p>
        {% endfor %}
{% endblock %}